{
  "address": "0xC28AE54Bd9C7Ff9aA80b305F1f3A2e04D59703b9",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "fullName",
          "type": "string"
        }
      ],
      "name": "IdentityCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        }
      ],
      "name": "RequestApproved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        }
      ],
      "name": "RequestRejected",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        }
      ],
      "name": "RequestSubmitted",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "dateOfExpiry",
          "type": "uint256"
        }
      ],
      "name": "approveRequest",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "citizenRequestIds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getIdentity",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "fullName",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "dateOfBirth",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "dateOfExpiry",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "citizenship",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct DigitalIdentity.Identity",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMyIdentity",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "fullName",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "dateOfBirth",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "dateOfExpiry",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "citizenship",
              "type": "string"
            },
            {
              "internalType": "bool",
              "name": "exists",
              "type": "bool"
            }
          ],
          "internalType": "struct DigitalIdentity.Identity",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getPendingRequests",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "identityExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "issuer",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "requestId",
          "type": "uint256"
        }
      ],
      "name": "rejectRequest",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "requests",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "citizen",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "fullName",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "dateOfBirth",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "citizenship",
          "type": "string"
        },
        {
          "internalType": "enum DigitalIdentity.RequestStatus",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "fullName",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "dateOfBirth",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "citizenship",
          "type": "string"
        }
      ],
      "name": "submitRequest",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x8e2682e3fc79dd43de6d172e4e439daa9d2af081e8df7b45f3579e85e3a8a727",
  "receipt": {
    "to": null,
    "from": "0x50278E3357f748298df487C96De4C5072142a073",
    "contractAddress": "0xC28AE54Bd9C7Ff9aA80b305F1f3A2e04D59703b9",
    "transactionIndex": 69,
    "gasUsed": "1178729",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x923870c9a78417e77d858e1909b1068d8ef2c6650b0ff9f193a6a7c7b5308e81",
    "transactionHash": "0x8e2682e3fc79dd43de6d172e4e439daa9d2af081e8df7b45f3579e85e3a8a727",
    "logs": [],
    "blockNumber": 8420566,
    "cumulativeGasUsed": "9485388",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 4,
  "solcInputHash": "c548b3be472e9d12f10272c9313b818e",
  "metadata": "{\"compiler\":{\"version\":\"0.8.20+commit.a1b79de6\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"citizen\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"fullName\",\"type\":\"string\"}],\"name\":\"IdentityCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"citizen\",\"type\":\"address\"}],\"name\":\"RequestApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"citizen\",\"type\":\"address\"}],\"name\":\"RequestRejected\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"citizen\",\"type\":\"address\"}],\"name\":\"RequestSubmitted\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dateOfExpiry\",\"type\":\"uint256\"}],\"name\":\"approveRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"citizenRequestIds\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getIdentity\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"fullName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"dateOfBirth\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dateOfExpiry\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"citizenship\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"internalType\":\"struct DigitalIdentity.Identity\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getMyIdentity\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"fullName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"dateOfBirth\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"dateOfExpiry\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"citizenship\",\"type\":\"string\"},{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"internalType\":\"struct DigitalIdentity.Identity\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getPendingRequests\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"identityExists\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"issuer\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"requestId\",\"type\":\"uint256\"}],\"name\":\"rejectRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"requests\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"id\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"citizen\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"fullName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"dateOfBirth\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"citizenship\",\"type\":\"string\"},{\"internalType\":\"enum DigitalIdentity.RequestStatus\",\"name\":\"status\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"fullName\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"dateOfBirth\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"citizenship\",\"type\":\"string\"}],\"name\":\"submitRequest\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"approveRequest(uint256,uint256)\":{\"notice\":\"Issuer approves a request and issues an identity\"},\"getPendingRequests()\":{\"notice\":\"Issuer views all pending requests (IDs only)\"},\"rejectRequest(uint256)\":{\"notice\":\"Issuer rejects a request\"},\"submitRequest(string,uint256,string)\":{\"notice\":\"Citizen submits a new request for ID issuance\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/DigitalIdentity.sol\":\"DigitalIdentity\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/DigitalIdentity.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\r\\npragma solidity >=0.8.0 <0.9.0;\\r\\n\\r\\ncontract DigitalIdentity {\\r\\n    // --- Roles & State ---\\r\\n    address public constant issuer = 0xfa65490C296Bfc0A053EA828EA3069718f4478b6;\\r\\n    uint256 private nextRequestId;\\r\\n\\r\\n    constructor() {\\r\\n        nextRequestId = 1;\\r\\n    }\\r\\n\\r\\n    enum RequestStatus { Pending, Approved, Rejected }\\r\\n\\r\\n    struct Request {\\r\\n        uint256 id;\\r\\n        address citizen;\\r\\n        string fullName;\\r\\n        uint256 dateOfBirth;\\r\\n        string citizenship;\\r\\n        RequestStatus status;\\r\\n    }\\r\\n\\r\\n    // Mappings for requests\\r\\n    mapping(uint256 => Request) public requests;\\r\\n    mapping(address => uint256[]) public citizenRequestIds;\\r\\n\\r\\n    // Mapping for issued identities\\r\\n    struct Identity {\\r\\n        string fullName;\\r\\n        uint256 dateOfBirth;\\r\\n        uint256 dateOfExpiry;\\r\\n        string citizenship;\\r\\n        bool exists;\\r\\n    }\\r\\n    mapping(address => Identity) private identities;\\r\\n\\r\\n    // --- Events ---\\r\\n    event RequestSubmitted(uint256 indexed requestId, address indexed citizen);\\r\\n    event RequestApproved(uint256 indexed requestId, address indexed citizen);\\r\\n    event RequestRejected(uint256 indexed requestId, address indexed citizen);\\r\\n    event IdentityCreated(address indexed citizen, string fullName);\\r\\n\\r\\n    // --- Modifiers ---\\r\\n    modifier onlyIssuer() {\\r\\n        require(msg.sender == issuer, \\\"Caller is not the authorized issuer\\\");\\r\\n        _;\\r\\n    }\\r\\n\\r\\n    // --- Request Workflow ---\\r\\n\\r\\n    /// @notice Citizen submits a new request for ID issuance\\r\\n    function submitRequest(\\r\\n        string calldata fullName,\\r\\n        uint256 dateOfBirth,\\r\\n        string calldata citizenship\\r\\n    ) external {\\r\\n        uint256 requestId = nextRequestId++;\\r\\n        requests[requestId] = Request({\\r\\n            id: requestId,\\r\\n            citizen: msg.sender,\\r\\n            fullName: fullName,\\r\\n            dateOfBirth: dateOfBirth,\\r\\n            citizenship: citizenship,\\r\\n            status: RequestStatus.Pending\\r\\n        });\\r\\n        citizenRequestIds[msg.sender].push(requestId);\\r\\n        emit RequestSubmitted(requestId, msg.sender);\\r\\n    }\\r\\n\\r\\n    /// @notice Issuer views all pending requests (IDs only)\\r\\n    function getPendingRequests() external view returns (uint256[] memory) {\\r\\n        uint256[] memory temp = new uint256[](nextRequestId - 1);\\r\\n        uint256 count = 0;\\r\\n        for (uint256 i = 1; i < nextRequestId; i++) {\\r\\n            if (requests[i].status == RequestStatus.Pending) {\\r\\n                temp[count++] = i;\\r\\n            }\\r\\n        }\\r\\n        uint256[] memory pending = new uint256[](count);\\r\\n        for (uint256 j = 0; j < count; j++) {\\r\\n            pending[j] = temp[j];\\r\\n        }\\r\\n        return pending;\\r\\n    }\\r\\n\\r\\n    /// @notice Issuer approves a request and issues an identity\\r\\n    function approveRequest(uint256 requestId, uint256 dateOfExpiry) external onlyIssuer {\\r\\n        Request storage req = requests[requestId];\\r\\n        require(req.status == RequestStatus.Pending, \\\"Request not pending\\\");\\r\\n        req.status = RequestStatus.Approved;\\r\\n\\r\\n        identities[req.citizen] = Identity({\\r\\n            fullName: req.fullName,\\r\\n            dateOfBirth: req.dateOfBirth,\\r\\n            dateOfExpiry: dateOfExpiry,\\r\\n            citizenship: req.citizenship,\\r\\n            exists: true\\r\\n        });\\r\\n\\r\\n        emit RequestApproved(requestId, req.citizen);\\r\\n        emit IdentityCreated(req.citizen, req.fullName);\\r\\n    }\\r\\n\\r\\n    /// @notice Issuer rejects a request\\r\\n    function rejectRequest(uint256 requestId) external onlyIssuer {\\r\\n        Request storage req = requests[requestId];\\r\\n        require(req.status == RequestStatus.Pending, \\\"Request not pending\\\");\\r\\n        req.status = RequestStatus.Rejected;\\r\\n        emit RequestRejected(requestId, req.citizen);\\r\\n    }\\r\\n\\r\\n    // --- Identity Access ---\\r\\n\\r\\n    function identityExists(address user) external view returns (bool) {\\r\\n        return identities[user].exists;\\r\\n    }\\r\\n\\r\\n    function getMyIdentity() external view returns (Identity memory) {\\r\\n        require(identities[msg.sender].exists, \\\"Identity does not exist\\\");\\r\\n        return identities[msg.sender];\\r\\n    }\\r\\n\\r\\n    function getIdentity(address user) external view returns (Identity memory) {\\r\\n        require(identities[user].exists, \\\"Identity does not exist\\\");\\r\\n        return identities[user];\\r\\n    }\\r\\n}\\r\\n\",\"keccak256\":\"0x4895ab83400738c677dadbf5cf7595797e5fd600d388684693c76eafc135cebc\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060016000556113f4806100256000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c806380a1f7121161006657806380a1f7121461016257806381d12c5814610177578063b4ee6fd21461019c578063b9d69647146101af578063cbe2a702146101b757600080fd5b80631d143848146100a35780632c0a90a9146100db5780632d7788db146100f05780632fea7b81146101035780634d221b8514610123575b600080fd5b6100be73fa65490c296bfc0a053ea828ea3069718f4478b681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ee6100e9366004610e53565b6101d8565b005b6100ee6100fe366004610e75565b6104d2565b610116610111366004610eaa565b6105bf565b6040516100d29190610f12565b610152610131366004610eaa565b6001600160a01b031660009081526003602052604090206004015460ff1690565b60405190151581526020016100d2565b61016a6107c9565b6040516100d29190610f78565b61018a610185366004610e75565b61093b565b6040516100d296959493929190610fd2565b6100ee6101aa36600461108f565b610a8e565b610116610c2b565b6101ca6101c5366004611109565b610e22565b6040519081526020016100d2565b3373fa65490c296bfc0a053ea828ea3069718f4478b6146102145760405162461bcd60e51b815260040161020b90611133565b60405180910390fd5b600082815260016020526040812090600582015460ff16600281111561023c5761023c610fbc565b1461027f5760405162461bcd60e51b815260206004820152601360248201527252657175657374206e6f742070656e64696e6760681b604482015260640161020b565b60058101805460ff191660011790556040805160a081019091526002820180548291906102ab90611176565b80601f01602080910402602001604051908101604052809291908181526020018280546102d790611176565b80156103245780601f106102f957610100808354040283529160200191610324565b820191906000526020600020905b81548152906001019060200180831161030757829003601f168201915b505050505081526020018260030154815260200183815260200182600401805461034d90611176565b80601f016020809104026020016040519081016040528092919081815260200182805461037990611176565b80156103c65780601f1061039b576101008083540402835291602001916103c6565b820191906000526020600020905b8154815290600101906020018083116103a957829003601f168201915b5050509183525050600160209182018190528301546001600160a01b03166000908152600390915260409020815181906104009082611215565b506020820151600182015560408201516002820155606082015160038201906104299082611215565b50608091909101516004909101805460ff191691151591909117905560018101546040516001600160a01b039091169084907ff3dc904660a0ea05aba8dfa1e21fbc4fb2914be2a3029da7b0fdd3e5eee20ddb90600090a360018101546040516001600160a01b03909116907fc935904fde3b784f003631fba58f14c99e3135ec5e11d22997ff5aca198f9474906104c59060028501906112d5565b60405180910390a2505050565b3373fa65490c296bfc0a053ea828ea3069718f4478b6146105055760405162461bcd60e51b815260040161020b90611133565b600081815260016020526040812090600582015460ff16600281111561052d5761052d610fbc565b146105705760405162461bcd60e51b815260206004820152601360248201527252657175657374206e6f742070656e64696e6760681b604482015260640161020b565b60058101805460ff1916600217905560018101546040516001600160a01b039091169083907f490ad67e4c8b3b9c1d11dfcd7f02e155190b8f6feff3a9d9e9df3721f0f74e5790600090a35050565b6105f36040518060a00160405280606081526020016000815260200160008152602001606081526020016000151581525090565b6001600160a01b03821660009081526003602052604090206004015460ff166106585760405162461bcd60e51b81526020600482015260176024820152761259195b9d1a5d1e48191bd95cc81b9bdd08195e1a5cdd604a1b604482015260640161020b565b6001600160a01b03821660009081526003602052604090819020815160a0810190925280548290829061068a90611176565b80601f01602080910402602001604051908101604052809291908181526020018280546106b690611176565b80156107035780601f106106d857610100808354040283529160200191610703565b820191906000526020600020905b8154815290600101906020018083116106e657829003601f168201915b50505050508152602001600182015481526020016002820154815260200160038201805461073090611176565b80601f016020809104026020016040519081016040528092919081815260200182805461075c90611176565b80156107a95780601f1061077e576101008083540402835291602001916107a9565b820191906000526020600020905b81548152906001019060200180831161078c57829003601f168201915b50505091835250506004919091015460ff16151560209091015292915050565b6060600060016000546107dc9190611376565b67ffffffffffffffff8111156107f4576107f46111b0565b60405190808252806020026020018201604052801561081d578160200160208202803683370190505b509050600060015b6000548110156108975760008181526001602052604081206005015460ff16600281111561085557610855610fbc565b03610885578083836108668161138f565b945081518110610878576108786113a8565b6020026020010181815250505b8061088f8161138f565b915050610825565b5060008167ffffffffffffffff8111156108b3576108b36111b0565b6040519080825280602002602001820160405280156108dc578160200160208202803683370190505b50905060005b82811015610933578381815181106108fc576108fc6113a8565b6020026020010151828281518110610916576109166113a8565b60209081029190910101528061092b8161138f565b9150506108e2565b509392505050565b60016020819052600091825260409091208054918101546002820180546001600160a01b03909216929161096e90611176565b80601f016020809104026020016040519081016040528092919081815260200182805461099a90611176565b80156109e75780601f106109bc576101008083540402835291602001916109e7565b820191906000526020600020905b8154815290600101906020018083116109ca57829003601f168201915b505050505090806003015490806004018054610a0290611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610a2e90611176565b8015610a7b5780601f10610a5057610100808354040283529160200191610a7b565b820191906000526020600020905b815481529060010190602001808311610a5e57829003601f168201915b5050506005909301549192505060ff1686565b600080548180610a9d8361138f565b9190505590506040518060c00160405280828152602001336001600160a01b0316815260200187878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602080820187905260408051601f87018390048302810183018252868152920191908690869081908401838280828437600092018290525093855250505060209182018190528381526001808352604091829020845181559284015190830180546001600160a01b0319166001600160a01b039092169190911790558201516002820190610b8a9082611215565b506060820151600382015560808201516004820190610ba99082611215565b5060a082015160058201805460ff19166001836002811115610bcd57610bcd610fbc565b02179055505033600081815260026020908152604080832080546001810182559084529183209091018590555191925083917f67da995c6df7166078290dae7ac4f9c90eeb269d051c434663949b26f04dba1d9190a3505050505050565b610c5f6040518060a00160405280606081526020016000815260200160008152602001606081526020016000151581525090565b3360009081526003602052604090206004015460ff16610cbb5760405162461bcd60e51b81526020600482015260176024820152761259195b9d1a5d1e48191bd95cc81b9bdd08195e1a5cdd604a1b604482015260640161020b565b3360009081526003602052604090819020815160a08101909252805482908290610ce490611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610d1090611176565b8015610d5d5780601f10610d3257610100808354040283529160200191610d5d565b820191906000526020600020905b815481529060010190602001808311610d4057829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382018054610d8a90611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610db690611176565b8015610e035780601f10610dd857610100808354040283529160200191610e03565b820191906000526020600020905b815481529060010190602001808311610de657829003601f168201915b50505091835250506004919091015460ff161515602090910152919050565b60026020528160005260406000208181548110610e3e57600080fd5b90600052602060002001600091509150505481565b60008060408385031215610e6657600080fd5b50508035926020909101359150565b600060208284031215610e8757600080fd5b5035919050565b80356001600160a01b0381168114610ea557600080fd5b919050565b600060208284031215610ebc57600080fd5b610ec582610e8e565b9392505050565b6000815180845260005b81811015610ef257602081850181015186830182015201610ed6565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000825160a06020840152610f2e60c0840182610ecc565b905060208401516040840152604084015160608401526060840151601f19848303016080850152610f5f8282610ecc565b9150506080840151151560a08401528091505092915050565b6020808252825182820181905260009190848201906040850190845b81811015610fb057835183529284019291840191600101610f94565b50909695505050505050565b634e487b7160e01b600052602160045260246000fd5b8681526001600160a01b038616602082015260c060408201819052600090610ffc90830187610ecc565b85606084015282810360808401526110148186610ecc565b9150506003831061103557634e487b7160e01b600052602160045260246000fd5b8260a0830152979650505050505050565b60008083601f84011261105857600080fd5b50813567ffffffffffffffff81111561107057600080fd5b60208301915083602082850101111561108857600080fd5b9250929050565b6000806000806000606086880312156110a757600080fd5b853567ffffffffffffffff808211156110bf57600080fd5b6110cb89838a01611046565b90975095506020880135945060408801359150808211156110eb57600080fd5b506110f888828901611046565b969995985093965092949392505050565b6000806040838503121561111c57600080fd5b61112583610e8e565b946020939093013593505050565b60208082526023908201527f43616c6c6572206973206e6f742074686520617574686f72697a6564206973736040820152623ab2b960e91b606082015260800190565b600181811c9082168061118a57607f821691505b6020821081036111aa57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f82111561121057600081815260208120601f850160051c810160208610156111ed5750805b601f850160051c820191505b8181101561120c578281556001016111f9565b5050505b505050565b815167ffffffffffffffff81111561122f5761122f6111b0565b6112438161123d8454611176565b846111c6565b602080601f83116001811461127857600084156112605750858301515b600019600386901b1c1916600185901b17855561120c565b600085815260208120601f198616915b828110156112a757888601518255948401946001909101908401611288565b50858210156112c55787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352600084546112e981611176565b8084870152604060018084166000811461130a576001811461132457611352565b60ff1985168984015283151560051b890183019550611352565b896000528660002060005b8581101561134a5781548b820186015290830190880161132f565b8a0184019650505b509398975050505050505050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561138957611389611360565b92915050565b6000600182016113a1576113a1611360565b5060010190565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220ac19f5dfb03aaedca2faeef194c82157b84e50bb789f5d3c3dd7537500af5ba164736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061009e5760003560e01c806380a1f7121161006657806380a1f7121461016257806381d12c5814610177578063b4ee6fd21461019c578063b9d69647146101af578063cbe2a702146101b757600080fd5b80631d143848146100a35780632c0a90a9146100db5780632d7788db146100f05780632fea7b81146101035780634d221b8514610123575b600080fd5b6100be73fa65490c296bfc0a053ea828ea3069718f4478b681565b6040516001600160a01b0390911681526020015b60405180910390f35b6100ee6100e9366004610e53565b6101d8565b005b6100ee6100fe366004610e75565b6104d2565b610116610111366004610eaa565b6105bf565b6040516100d29190610f12565b610152610131366004610eaa565b6001600160a01b031660009081526003602052604090206004015460ff1690565b60405190151581526020016100d2565b61016a6107c9565b6040516100d29190610f78565b61018a610185366004610e75565b61093b565b6040516100d296959493929190610fd2565b6100ee6101aa36600461108f565b610a8e565b610116610c2b565b6101ca6101c5366004611109565b610e22565b6040519081526020016100d2565b3373fa65490c296bfc0a053ea828ea3069718f4478b6146102145760405162461bcd60e51b815260040161020b90611133565b60405180910390fd5b600082815260016020526040812090600582015460ff16600281111561023c5761023c610fbc565b1461027f5760405162461bcd60e51b815260206004820152601360248201527252657175657374206e6f742070656e64696e6760681b604482015260640161020b565b60058101805460ff191660011790556040805160a081019091526002820180548291906102ab90611176565b80601f01602080910402602001604051908101604052809291908181526020018280546102d790611176565b80156103245780601f106102f957610100808354040283529160200191610324565b820191906000526020600020905b81548152906001019060200180831161030757829003601f168201915b505050505081526020018260030154815260200183815260200182600401805461034d90611176565b80601f016020809104026020016040519081016040528092919081815260200182805461037990611176565b80156103c65780601f1061039b576101008083540402835291602001916103c6565b820191906000526020600020905b8154815290600101906020018083116103a957829003601f168201915b5050509183525050600160209182018190528301546001600160a01b03166000908152600390915260409020815181906104009082611215565b506020820151600182015560408201516002820155606082015160038201906104299082611215565b50608091909101516004909101805460ff191691151591909117905560018101546040516001600160a01b039091169084907ff3dc904660a0ea05aba8dfa1e21fbc4fb2914be2a3029da7b0fdd3e5eee20ddb90600090a360018101546040516001600160a01b03909116907fc935904fde3b784f003631fba58f14c99e3135ec5e11d22997ff5aca198f9474906104c59060028501906112d5565b60405180910390a2505050565b3373fa65490c296bfc0a053ea828ea3069718f4478b6146105055760405162461bcd60e51b815260040161020b90611133565b600081815260016020526040812090600582015460ff16600281111561052d5761052d610fbc565b146105705760405162461bcd60e51b815260206004820152601360248201527252657175657374206e6f742070656e64696e6760681b604482015260640161020b565b60058101805460ff1916600217905560018101546040516001600160a01b039091169083907f490ad67e4c8b3b9c1d11dfcd7f02e155190b8f6feff3a9d9e9df3721f0f74e5790600090a35050565b6105f36040518060a00160405280606081526020016000815260200160008152602001606081526020016000151581525090565b6001600160a01b03821660009081526003602052604090206004015460ff166106585760405162461bcd60e51b81526020600482015260176024820152761259195b9d1a5d1e48191bd95cc81b9bdd08195e1a5cdd604a1b604482015260640161020b565b6001600160a01b03821660009081526003602052604090819020815160a0810190925280548290829061068a90611176565b80601f01602080910402602001604051908101604052809291908181526020018280546106b690611176565b80156107035780601f106106d857610100808354040283529160200191610703565b820191906000526020600020905b8154815290600101906020018083116106e657829003601f168201915b50505050508152602001600182015481526020016002820154815260200160038201805461073090611176565b80601f016020809104026020016040519081016040528092919081815260200182805461075c90611176565b80156107a95780601f1061077e576101008083540402835291602001916107a9565b820191906000526020600020905b81548152906001019060200180831161078c57829003601f168201915b50505091835250506004919091015460ff16151560209091015292915050565b6060600060016000546107dc9190611376565b67ffffffffffffffff8111156107f4576107f46111b0565b60405190808252806020026020018201604052801561081d578160200160208202803683370190505b509050600060015b6000548110156108975760008181526001602052604081206005015460ff16600281111561085557610855610fbc565b03610885578083836108668161138f565b945081518110610878576108786113a8565b6020026020010181815250505b8061088f8161138f565b915050610825565b5060008167ffffffffffffffff8111156108b3576108b36111b0565b6040519080825280602002602001820160405280156108dc578160200160208202803683370190505b50905060005b82811015610933578381815181106108fc576108fc6113a8565b6020026020010151828281518110610916576109166113a8565b60209081029190910101528061092b8161138f565b9150506108e2565b509392505050565b60016020819052600091825260409091208054918101546002820180546001600160a01b03909216929161096e90611176565b80601f016020809104026020016040519081016040528092919081815260200182805461099a90611176565b80156109e75780601f106109bc576101008083540402835291602001916109e7565b820191906000526020600020905b8154815290600101906020018083116109ca57829003601f168201915b505050505090806003015490806004018054610a0290611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610a2e90611176565b8015610a7b5780601f10610a5057610100808354040283529160200191610a7b565b820191906000526020600020905b815481529060010190602001808311610a5e57829003601f168201915b5050506005909301549192505060ff1686565b600080548180610a9d8361138f565b9190505590506040518060c00160405280828152602001336001600160a01b0316815260200187878080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505090825250602080820187905260408051601f87018390048302810183018252868152920191908690869081908401838280828437600092018290525093855250505060209182018190528381526001808352604091829020845181559284015190830180546001600160a01b0319166001600160a01b039092169190911790558201516002820190610b8a9082611215565b506060820151600382015560808201516004820190610ba99082611215565b5060a082015160058201805460ff19166001836002811115610bcd57610bcd610fbc565b02179055505033600081815260026020908152604080832080546001810182559084529183209091018590555191925083917f67da995c6df7166078290dae7ac4f9c90eeb269d051c434663949b26f04dba1d9190a3505050505050565b610c5f6040518060a00160405280606081526020016000815260200160008152602001606081526020016000151581525090565b3360009081526003602052604090206004015460ff16610cbb5760405162461bcd60e51b81526020600482015260176024820152761259195b9d1a5d1e48191bd95cc81b9bdd08195e1a5cdd604a1b604482015260640161020b565b3360009081526003602052604090819020815160a08101909252805482908290610ce490611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610d1090611176565b8015610d5d5780601f10610d3257610100808354040283529160200191610d5d565b820191906000526020600020905b815481529060010190602001808311610d4057829003601f168201915b505050505081526020016001820154815260200160028201548152602001600382018054610d8a90611176565b80601f0160208091040260200160405190810160405280929190818152602001828054610db690611176565b8015610e035780601f10610dd857610100808354040283529160200191610e03565b820191906000526020600020905b815481529060010190602001808311610de657829003601f168201915b50505091835250506004919091015460ff161515602090910152919050565b60026020528160005260406000208181548110610e3e57600080fd5b90600052602060002001600091509150505481565b60008060408385031215610e6657600080fd5b50508035926020909101359150565b600060208284031215610e8757600080fd5b5035919050565b80356001600160a01b0381168114610ea557600080fd5b919050565b600060208284031215610ebc57600080fd5b610ec582610e8e565b9392505050565b6000815180845260005b81811015610ef257602081850181015186830182015201610ed6565b506000602082860101526020601f19601f83011685010191505092915050565b602081526000825160a06020840152610f2e60c0840182610ecc565b905060208401516040840152604084015160608401526060840151601f19848303016080850152610f5f8282610ecc565b9150506080840151151560a08401528091505092915050565b6020808252825182820181905260009190848201906040850190845b81811015610fb057835183529284019291840191600101610f94565b50909695505050505050565b634e487b7160e01b600052602160045260246000fd5b8681526001600160a01b038616602082015260c060408201819052600090610ffc90830187610ecc565b85606084015282810360808401526110148186610ecc565b9150506003831061103557634e487b7160e01b600052602160045260246000fd5b8260a0830152979650505050505050565b60008083601f84011261105857600080fd5b50813567ffffffffffffffff81111561107057600080fd5b60208301915083602082850101111561108857600080fd5b9250929050565b6000806000806000606086880312156110a757600080fd5b853567ffffffffffffffff808211156110bf57600080fd5b6110cb89838a01611046565b90975095506020880135945060408801359150808211156110eb57600080fd5b506110f888828901611046565b969995985093965092949392505050565b6000806040838503121561111c57600080fd5b61112583610e8e565b946020939093013593505050565b60208082526023908201527f43616c6c6572206973206e6f742074686520617574686f72697a6564206973736040820152623ab2b960e91b606082015260800190565b600181811c9082168061118a57607f821691505b6020821081036111aa57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fd5b601f82111561121057600081815260208120601f850160051c810160208610156111ed5750805b601f850160051c820191505b8181101561120c578281556001016111f9565b5050505b505050565b815167ffffffffffffffff81111561122f5761122f6111b0565b6112438161123d8454611176565b846111c6565b602080601f83116001811461127857600084156112605750858301515b600019600386901b1c1916600185901b17855561120c565b600085815260208120601f198616915b828110156112a757888601518255948401946001909101908401611288565b50858210156112c55787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60006020808352600084546112e981611176565b8084870152604060018084166000811461130a576001811461132457611352565b60ff1985168984015283151560051b890183019550611352565b896000528660002060005b8581101561134a5781548b820186015290830190880161132f565b8a0184019650505b509398975050505050505050565b634e487b7160e01b600052601160045260246000fd5b8181038181111561138957611389611360565b92915050565b6000600182016113a1576113a1611360565b5060010190565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220ac19f5dfb03aaedca2faeef194c82157b84e50bb789f5d3c3dd7537500af5ba164736f6c63430008140033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "approveRequest(uint256,uint256)": {
        "notice": "Issuer approves a request and issues an identity"
      },
      "getPendingRequests()": {
        "notice": "Issuer views all pending requests (IDs only)"
      },
      "rejectRequest(uint256)": {
        "notice": "Issuer rejects a request"
      },
      "submitRequest(string,uint256,string)": {
        "notice": "Citizen submits a new request for ID issuance"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 6,
        "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
        "label": "nextRequestId",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 37,
        "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
        "label": "requests",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_struct(Request)32_storage)"
      },
      {
        "astId": 42,
        "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
        "label": "citizenRequestIds",
        "offset": 0,
        "slot": "2",
        "type": "t_mapping(t_address,t_array(t_uint256)dyn_storage)"
      },
      {
        "astId": 58,
        "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
        "label": "identities",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_struct(Identity)53_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint256)dyn_storage": {
        "base": "t_uint256",
        "encoding": "dynamic_array",
        "label": "uint256[]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_enum(RequestStatus)18": {
        "encoding": "inplace",
        "label": "enum DigitalIdentity.RequestStatus",
        "numberOfBytes": "1"
      },
      "t_mapping(t_address,t_array(t_uint256)dyn_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => uint256[])",
        "numberOfBytes": "32",
        "value": "t_array(t_uint256)dyn_storage"
      },
      "t_mapping(t_address,t_struct(Identity)53_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct DigitalIdentity.Identity)",
        "numberOfBytes": "32",
        "value": "t_struct(Identity)53_storage"
      },
      "t_mapping(t_uint256,t_struct(Request)32_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct DigitalIdentity.Request)",
        "numberOfBytes": "32",
        "value": "t_struct(Request)32_storage"
      },
      "t_string_storage": {
        "encoding": "bytes",
        "label": "string",
        "numberOfBytes": "32"
      },
      "t_struct(Identity)53_storage": {
        "encoding": "inplace",
        "label": "struct DigitalIdentity.Identity",
        "members": [
          {
            "astId": 44,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "fullName",
            "offset": 0,
            "slot": "0",
            "type": "t_string_storage"
          },
          {
            "astId": 46,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "dateOfBirth",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 48,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "dateOfExpiry",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 50,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "citizenship",
            "offset": 0,
            "slot": "3",
            "type": "t_string_storage"
          },
          {
            "astId": 52,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "exists",
            "offset": 0,
            "slot": "4",
            "type": "t_bool"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_struct(Request)32_storage": {
        "encoding": "inplace",
        "label": "struct DigitalIdentity.Request",
        "members": [
          {
            "astId": 20,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "id",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 22,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "citizen",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 24,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "fullName",
            "offset": 0,
            "slot": "2",
            "type": "t_string_storage"
          },
          {
            "astId": 26,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "dateOfBirth",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 28,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "citizenship",
            "offset": 0,
            "slot": "4",
            "type": "t_string_storage"
          },
          {
            "astId": 31,
            "contract": "contracts/DigitalIdentity.sol:DigitalIdentity",
            "label": "status",
            "offset": 0,
            "slot": "5",
            "type": "t_enum(RequestStatus)18"
          }
        ],
        "numberOfBytes": "192"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}